define(["backbone","underscore","jquery","views/status","jqueryui","text!templates/statusHeading.html"],function(e,t,n,r,i,s){var o=e.View.extend({el:n("#statusList"),collection:null,initialize:function(){t.bindAll(this,"unrender","unrenderCollection","render","renderForm","renderCollection","prependStatus")},unrender:function(){this.unrenderCollection(),n("#heading").html(""),this.el.hide()},unrenderCollection:function(){this.el.html("")},prependStatus:function(e){if(!e.get("message"))return;var t=new r({model:e}),n=t.render().el;this.el.prepend(n)},renderForm:function(e){this.el.show();var r=n("#heading");r.html(t.template(s)),n("#dateFrom",r).datepicker(),n("#dateTo",r).datepicker(),n("#filterButton",r).on("click",function(){var t=n("#dateFrom",r).datepicker("getDate"),i=n("#dateTo",r).datepicker("getDate");window.location.hash="groups/"+e.get("id")+"/from/"+t+"/to/"+i}),n("#resetButton",r).on("click",t.bind(this.renderCollection,this,e))},renderCollection:function(e){e.each(this.prependStatus)},render:function(e){this.renderCollection(e)}});return new o});